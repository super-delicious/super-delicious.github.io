<!DOCTYPE html>
<html lang="en">
<head>


    <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="style-portfolio.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<!-- Popper JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>


<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>

	<div id="neon">
    <p><a href="index.html">
      Yixin Cao
    </a></p>
    </div>

  <div class="container-fluid">

    <nav>
           

          <nav class="navbar navbar-expand-sm bg-rgb(250, 246, 235); navbar-light">
            <ul class="nav">
                      <li><a href="index.html" >Home</a></li>
                      <Li><a href="portfolio.html">Portfolio </a></li>
                      <li><a href="about.html">About</a></li>   
                      </li>
                    </ul> 
                  </nav>  

        
       
    </nav>
</div>
  
    <title>Virus Invaders</title>
    <link rel="stylesheet" href="style.css">
</head>
<div class= "body">

    <div id="background">
        <div id="hero"></div>
        <div id="missiles"></div>
        <div id="enemies"></div>
    </div>

    <script>
        var hero = {
            left: 575,
            top: 700
        };

        var missiles = [];

        var enemies = [
            { left: 100, top: 25 },
            { left: 200, top: 25 },
            { left: 300, top: 25 },
            { left: 400, top: 25 },
            { left: 500, top: 25 },
            { left: 600, top: 25 },
            { left: 700, top: 25 },
            { left: 800, top: 25 },
            { left: 900, top: 25 },
            { left: 1000, top: 25 },
            { left: 150, top: 100 },
            { left: 250, top: 100 },
            { left: 350, top: 100 },
            { left: 450, top: 100 },
            { left: 550, top: 100 },
            { left: 650, top: 100 },
            { left: 750, top: 100 },
            { left: 850, top: 100 },
            { left: 950, top: 100 },
            
            { left: 75, top: 175 },
            { left: 175, top: 175 },
            { left: 275, top: 175 },
            { left: 375, top: 175 },
            { left: 475, top: 175 },
            { left: 575, top: 175 },
            { left: 675, top: 175 },
            { left: 775, top: 175 },
            { left: 875, top: 175 },
            { left: 975, top: 175 },
            { left: 1075, top: 175 },
            { left: 125, top: 250 },
            { left: 225, top: 250 },
            { left: 325, top: 250 },
            { left: 425, top: 250 },
            { left: 525, top: 250 },
            { left: 625, top: 250 },
            { left: 725, top: 250 },
            { left: 825, top: 250 },
            { left: 925, top: 250 }
        ];
        

        document.onkeydown = function(e) {
            if (e.keyCode === 37) {
                // Left
                hero.left = hero.left - 10;
            }
            if (e.keyCode === 39) {
                // Right
                hero.left = hero.left + 10;
            }
            if (e.keyCode === 32) {
                // Spacebar (fire)
                missiles.push({
                    left: hero.left + 20,
                    top: hero.top - 20 
                });
                drawMissiles()
            }
            drawHero();
        }


        function drawHero() {
            document.getElementById('hero').style.left = hero.left + 'px';
            document.getElementById('hero').style.top = hero.top + 'px';
        }

        function drawMissiles() {
            document.getElementById('missiles').innerHTML = ""
            for(var i = 0 ; i < missiles.length ; i++ ) {
                document.getElementById('missiles').innerHTML += `<div class='missile1' style='left:${missiles[i].left}px; top:${missiles[i].top}px'></div>`;
            }
        }

        function moveMissiles() {
            for(var i = 0 ; i < missiles.length ; i++ ) {
                missiles[i].top = missiles[i].top - 8
            }
        }

        function drawEnemies() {
            document.getElementById('enemies').innerHTML = ""
            for(var i = 0 ; i < enemies.length ; i++ ) {
                document.getElementById('enemies').innerHTML += `<div class='enemy' style='left:${enemies[i].left}px; top:${enemies[i].top}px'></div>`;
            }
        }

        function moveEnemies() {
            for(var i = 0 ; i < enemies.length ; i++ ) {
                enemies[i].top = enemies[i].top + 5;
            }
        }

        function collisionDetection() {
            for (var enemy = 0; enemy < enemies.length; enemy++) {
                for (var missile = 0; missile < missiles.length; missile++) {
                    if ( 
                        missiles[missile].left >= enemies[enemy].left  &&
                        missiles[missile].left <= (enemies[enemy].left + 50)  &&
                        missiles[missile].top <= (enemies[enemy].top + 50)  &&
                        missiles[missile].top >= enemies[enemy].top
                    ) {
                        enemies.splice(enemy, 1);
                        missiles.splice(missile, 1);
                    }
                }
            }
        }

        function gameLoop() {
            setTimeout(gameLoop, 1000)
            moveMissiles();
            drawMissiles();
            moveEnemies();
            drawEnemies();
            collisionDetection();
        }
        
        gameLoop()

    </script>
</div>
</html>
